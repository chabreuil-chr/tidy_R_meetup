{
  "hash": "eba0dbf7a6689912c5c832a9e16a8e9f",
  "result": {
    "markdown": "---\n# title: \"Présentation de TidyModels\"\n# subtitle: \"R addicts\"\n# author: \"Clément Rieux\"\n# date: '22 Septembre 2022'\nformat: \n  revealjs:\n    # footer: \"[Scripts](https://github.com/clementrx/site_r)&nbsp;&nbsp;&nbsp;\"\n    theme: [custom.scss]\n    transition: fade\n    background-transition: fade\n    code-copy: true\n    center-title-slide: false\n    highlight-style: a11y\n    code-link: true\n    height: 1080\n    width: 1600\n    # code-overflow: wrap\nexecute: \n  eval: true\n  echo: true\n  freeze: auto\n---\n\n\n<h1>Présentation de `TidyModels`</h1>\n\n<h2>R addict</h2>\n\n<hr>\n\n<h3>Clément Rieux, Consultant Data Science Epsilon France chez EDF</h3>\n\n<h3>22 Septembre 2022</h3>\n\n<br>\n\n<h3>\n\n![](https://raw.githubusercontent.com/rstudio/hex-stickers/master/SVG/tidymodels.svg){.absolute top=\"425\" left=\"1100\" width=\"300\"}\n\n## Tidymodels\n\n> **tidymodels** est une collection de packages de modélisation qui est semblable à tidyverse. Créé par l'auteur de **caret** : Max Kuhn. La version 1.0.0 est disponible depuis le 13 juillet 2022.\n\n. . .\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n![](https://rviews.rstudio.com/post/2019-06-14-a-gentle-intro-to-tidymodels_files/figure-html/ds.png)\n\n:::\n\n::: {.column width=\"50%\"}\n-   Encourager les bonnes pratiques\n\n-   Simplifier la lecture des codes\n\n-   Expérimenter plusieurs modèles \n\n-   Construire une structure stable\n\n-   Permettre une grande variété de méthodologies\n\n:::\n\n::::\n\n## Tidymodels\n\n> **tidymodels** est une collection de packages de modélisation qui est semblable à tidyverse. Créé par l'auteur de **caret** : Max Kuhn. La version 1.0.0 est disponible depuis le 13 juillet 2022.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidymodels) \n```\n:::\n\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## ── Attaching packages ─────────────────────────────────────────────────────────────────────── tidymodels 1.0.0 ──\n```\n:::\n\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## ✔ broom        1.0.1      ✔ recipes      1.0.1 \n## ✔ dials        1.0.0      ✔ rsample      1.1.0 \n## ✔ dplyr        1.0.10     ✔ tibble       3.1.8 \n## ✔ ggplot2      3.3.6      ✔ tidyr        1.2.0 \n## ✔ infer        1.0.3      ✔ tune         1.0.0 \n## ✔ modeldata    1.0.0      ✔ workflows    1.0.0 \n## ✔ parsnip      1.0.1      ✔ workflowsets 1.0.0 \n## ✔ purrr        0.3.4      ✔ yardstick    1.0.0 \n```\n:::\n\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## ── Conflicts ────────────────────────────────────────────────────────────────────────── tidymodels_conflicts() ──\n## ✖ purrr::discard() masks scales::discard()\n## ✖ dplyr::filter()  masks stats::filter()\n## ✖ dplyr::lag()     masks stats::lag()\n## ✖ recipes::step()  masks stats::step()\n```\n:::\n\n\n## Tidymodels\n\n> **tidymodels** est une collection de packages de modélisation qui est semblable à tidyverse. Créé par l'auteur de **caret** : Max Kuhn. La version 1.0.0 est disponible depuis le 13 juillet 2022.\n\n<br>\n\n-   `rsample` : Data splitting et resampling\n-   `recipes` : Préparation des données avant modélisation\n-   `parsnip` : Collection de modèles\n-   `yardstick` : Evaluation metrics\n-   `broom` : Manipulation des données output\n-   `dials/tune` : Tuning des paramètres\n-   `worklows` : Création de workflow ...\n\n\n## Tidymodels vs Caret\n\nTidymodels et Caret sont deux packages pour faire de la modélisation.\n\n<br>\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n**Caret**\n\n- Sortie en 2008\n\n- Utilisation des bases R\n\n- N'est plus développé activement\n\n:::\n\n::: {.column width=\"50%\"}\n\n**Tidymodels**\n\n- Sortie en Avril 2020 (Première version en Juillet 2018)\n\n- Utilisation via le pipe\n\n- En cours de développement \n\n:::\n\n::::\n\n## Comment préparer les données avec tidymodels ?\n\n>step\\_\\*() \n\n<https://recipes.tidymodels.org/reference/>\n\n<iframe src=\"https://recipes.tidymodels.org/reference/\" width=\"100%\" height=\"70%\" frameBorder=\"0\">\n\n</iframe>\n\n## Comment préparer les données avec tidymodels ?\n\n-   `step_impute*()`\n    -   `step_impute_mean()`\n    -   `step_impute_linear()`\n-   `step_log()`\n-   `step_mutate()`\n-   `step_sqrt()`\n-   `step_cut()`\n-   `step_dummy()`\n-   `step_center()`\n-   `step_normalize()`\n-   `step_corr()`\n-   `step_zv()`\n\n## Comment implémenter un modèle avec tidymodels ?\n\n<br/>\n\n::: {.incremental}\n1.  Choisir un modèle\n2.  Sélectionner le mode (Si nécessaire)\n3.  Paramètrer le engine\n:::\n\n## 1. Choisir un modèle\n\nPour avoir la liste des modèles disponibles : <https://www.tidymodels.org/find/parsnip/>\n\n<iframe src=\"https://www.tidymodels.org/find/parsnip/\" width=\"100%\" height=\"70%\" frameBorder=\"0\">\n\n</iframe>\n\n## 1. Choisir un modèle\n\nLa première étape consiste donc à choisir un (ou plusieurs) modèle(s).\n\n. . .\n\n<br>\n\nRégression linéaire\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_reg(penalty = NULL, mixture = NULL)\n```\n:::\n\n\n. . .\n\n<br>\n\nDecision tree\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndecision_tree(cost_complexity = NULL, tree_depth = NULL, min_n = NULL)\n```\n:::\n\n\n. . .\n\n<br>\n\nRandom Forest\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrand_forest(mtry = NULL, trees = NULL, min_n = NULL)\n```\n:::\n\n\n. . .\n\n<br>\n\nSingle layer neural network\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmlp(hidden_units = NULL, penalty = NULL, dropout = NULL, epochs = NULL, activation = NULL, learn_rate = NULL)\n```\n:::\n\n\n\n## 2. Sélectionner le mode\n\nEn effet, pour clarifier le code et également ce que l'on souhaite prédire, on indique si l'on souhaite faire une `regression` ou une `classification`.\n\n. . .\n\n<br/>\n<br/>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_reg() %>% \n  set_mode(mode = \"regression\")\n```\n:::\n\n\n. . .\n\n<br/>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlogistic_reg() %>% \n  set_mode(mode = \"classification\")\n```\n:::\n\n\n## 3. Paramètrer le engine\n\nEnfin, on sélectionne un `engine` pour indiquer la méthode de calcul que l'on souhaite.\n\n<br/>\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlinear_reg() %>% \n  set_engine(\"spark\" )\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrand_forest() %>% \n  set_engine(\"randomForest\")\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrand_forest() %>% \n  set_engine(\"ranger\")\n```\n:::\n\n\n## Exemple de classification\n\n### Données\n\n<br>\n\nReplication Data for: Using machine learning methods to predict physical activity types with Apple Watch and Fitbit data using indirect calorimetry as the criterion. Fuller Daniel, 2020. \n\n<br>\n<br>\n<br>\n\nL'objectif est de prédire depuis les données d'une montre connectée, si la personne est `allongée`, `assise`, ou `pratique une activté physique` selon plusieurs intensités.\n\n::: footer\nLien de la publication: [ici](https://doi.org/10.7910/DVN/ZS2Z2J)\n:::\n\n## Exemple de classification\n\nLe protocol de test est composé de 40min de tapis roulant et 25min de position assise/allongée. <br>\nLes données sont collectées toutes les minutes. <br>\n\n. . .\n\nNous avons 6 activités à détecter : \n\n-   `Lying` : Position allongée\n-   `sitting` : Position assise\n-   `walking self-paced` : Marcher à son rythme\n-   `3 METS` : Equivalent métabolique 3 fois supérieur à un niveau assis\n-   `5 METS` : Equivalent métabolique 5 fois supérieur à un niveau assis\n-   `7 METS` : Equivalent métabolique 7 fois supérieur à un niveau assis\n\n. . .\n\n<hr>\n\nLa publication de Daniel Fuller montre que le **Rotation forest models** est celui qui donne la meilleure accuracy avec **82,6%**.\n\n\n## Exemple de classification\n\n<br>\n\n\n::: {.cell}\n\n:::\n\n\n::: {style=\"text-align: center\"}\n`Données`\n:::\n\n<br>\n\n::: {style=\"font-size: 0.75em\"}\n\n::: {.cell}\n::: {.cell-output-display}\n| age|gender | height| weight|    steps| hear_rate|   calories|  distance| entropy_heart| entropy_setps| resting_heart| corr_heart_steps| norm_heart| intensity_karvonen| sd_norm_heart| steps_times_distance|device      |activity |\n|---:|:------|------:|------:|--------:|---------:|----------:|---------:|-------------:|-------------:|-------------:|----------------:|----------:|------------------:|-------------:|--------------------:|:-----------|:--------|\n|  20|woman  |    168|   65.4| 10.77143|  78.53130|  0.3445329| 0.0083269|      6.221612|      6.116349|            59|        1.0000000|   19.53130|          0.1385199|      1.000000|            0.0896921|apple watch |Lying    |\n|  20|woman  |    168|   65.4| 11.47532|  78.45339|  3.2876255| 0.0088963|      6.221612|      6.116349|            59|        1.0000000|   19.45339|          0.1379673|      1.000000|            0.1020885|apple watch |Lying    |\n|  20|woman  |    168|   65.4| 12.17922|  78.54083|  9.4840000| 0.0094658|      6.221612|      6.116349|            59|        1.0000000|   19.54083|          0.1385874|      1.000000|            0.1152865|apple watch |Lying    |\n|  20|woman  |    168|   65.4| 12.88312|  78.62826| 10.1545556| 0.0100353|      6.221612|      6.116349|            59|        1.0000000|   19.62826|          0.1392075|      1.000000|            0.1292863|apple watch |Lying    |\n|  20|woman  |    168|   65.4| 13.58701|  78.71569| 10.8251111| 0.0106048|      6.221612|      6.116349|            59|        0.9828157|   19.71569|          0.1398276|      0.241567|            0.1440877|apple watch |Lying    |\n|  20|woman  |    168|   65.4| 14.29091|  78.80313| 11.4956667| 0.0111743|      6.221612|      6.116349|            59|        1.0000000|   19.80313|          0.1404477|      0.264722|            0.1596909|apple watch |Sitting  |\n:::\n:::\n\n:::\n\n\n## Exemple de classification\n\nLe jeu de données étant propre, nous pouvons directement split nos données en train/test via la fonction `initial_split`\n\n. . .\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\ndata_split <- initial_split(df, \n                            strata = activity)\n```\n:::\n\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_split\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<Training/Testing/Total>\n<2740/916/3656>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntrain_data <- training(data_split) \ntest_data <- testing(data_split)\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(train_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2740\n```\n:::\n:::\n\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(test_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 916\n```\n:::\n:::\n\n\n## Exemple de classification\n\nEnsuite, nous allons définir notre modèle :\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_rec = recipe(activity ~ . , data = train_data) \n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_rec\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRecipe\n\nInputs:\n\n      role #variables\n   outcome          1\n predictor         17\n```\n:::\n:::\n\n\n## Exemple de classification\n\nEnsuite, nous allons définir notre modèle :\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df_rec)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18 × 4\n   variable             type    role      source  \n   <chr>                <chr>   <chr>     <chr>   \n 1 age                  numeric predictor original\n 2 gender               nominal predictor original\n 3 height               numeric predictor original\n 4 weight               numeric predictor original\n 5 steps                numeric predictor original\n 6 hear_rate            numeric predictor original\n 7 calories             numeric predictor original\n 8 distance             numeric predictor original\n 9 entropy_heart        numeric predictor original\n10 entropy_setps        numeric predictor original\n11 resting_heart        numeric predictor original\n12 corr_heart_steps     numeric predictor original\n13 norm_heart           numeric predictor original\n14 intensity_karvonen   numeric predictor original\n15 sd_norm_heart        numeric predictor original\n16 steps_times_distance numeric predictor original\n17 device               nominal predictor original\n18 activity             nominal outcome   original\n```\n:::\n:::\n\n\n## Exemple de classification {auto-animate=\"true\"}\n\nLa `recette` va nous permettre de faire tout le pre-processing avant la modélisation : \n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_rec = recipe(activity ~ . , data = train_data)\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1|2|3|4|5|6|7|1-7\"}\ndf_rec = recipe(activity ~ . , data = train_data) %>% \n  step_rm(device) %>% \n  step_string2factor(gender) %>% \n  step_normalize(all_numeric()) %>% \n  step_dummy(all_nominal_predictors()) %>% \n  step_zv(all_numeric()) %>% \n  step_corr(all_numeric_predictors(), threshold = 0.7) \n```\n:::\n\n\n## Exemple de classification\n\nRegardons à quoi ressemble nos données après transformation \n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nencoded = df_rec %>%\n  prep() %>%\n  juice()\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n::: {.cell-output-display}\n|       age|     weight|      steps|  calories| entropy_heart| entropy_setps| resting_heart| corr_heart_steps| norm_heart| sd_norm_heart| steps_times_distance|activity | gender_woman|\n|---------:|----------:|----------:|---------:|-------------:|-------------:|-------------:|----------------:|----------:|-------------:|--------------------:|:--------|------------:|\n| -1.040763| -0.3697346| -0.6229780| 0.6097959|     0.4528588|     0.3606604|     -0.806288|         1.344866| -0.1425708|    -0.7808465|           -0.3534188|Lying    |            1|\n| -1.040763| -0.3697346| -0.6204065| 0.7022291|     0.4528588|     0.3606604|     -0.806288|         1.321581| -0.1389498|    -0.8558210|           -0.3532882|Lying    |            1|\n| -1.040763| -0.3697346| -0.5766909| 1.3325475|     0.4528588|     0.3606604|     -0.806288|         1.344866| -0.0773928|    -0.8535320|           -0.3499853|Lying    |            1|\n| -1.040763| -0.3697346| -0.5715479| 1.3292048|     0.4528588|     0.3606604|     -0.806288|         1.344866| -0.0701508|    -0.8535320|           -0.3494623|Lying    |            1|\n| -1.040763| -0.3697346| -0.5664048| 1.3258620|     0.4528588|     0.3606604|     -0.806288|         1.344866| -0.0629088|    -0.8535320|           -0.3489110|Lying    |            1|\n| -1.040763| -0.3697346| -0.6006315| 1.6465117|     0.4528588|     0.3606604|     -0.806288|        -1.365160| -0.0085939|    -0.8535320|           -0.3522278|Lying    |            1|\n:::\n:::\n\n\n## Exemple de classification\n\nOn utilise un modèle Random forest pour notre exemple\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_spec <- rand_forest(trees = 200) %>% \n  set_engine(\"ranger\") %>% \n  set_mode(\"classification\")\n```\n:::\n\n\n. . .\n\n<br>\n\nCréation du workflow\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1-3|1|2|3|1-3\"}\nactivity_wflow <- workflow() %>% \n  add_recipe(df_rec) %>% \n  add_model(rf_spec)\n```\n:::\n\n\n. . .\n\n<br>\n\nEntraînement du modèle\n\n\n::: {.cell}\n\n```{.r .cell-code}\nactivty_fit <- activity_wflow %>% \n  fit(data = train_data)\n```\n:::\n\n\n## Exemple Classification\n\n<br>\n\nOn prédit les activités avec `augment`, ce qui va nous permettre de récupérer également les probabilités que le modèle associe à chaque classe.\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nactivity_pred <- augment(activty_fit,\n                         test_data)\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntable = activity_pred %>%\n  select(activity, \n         contains(\".pred_\"))\n```\n:::\n\n\n. . .\n\n<br>\n\n::: {style=\"font-size: 0.5em\"}\n\n::: {.cell}\n::: {.cell-output-display}\n|activity |.pred_class    | .pred_Lying| .pred_Running 3 METs| .pred_Running 5 METs| .pred_Running 7 METs| .pred_Self Pace walk| .pred_Sitting|\n|:--------|:--------------|-----------:|--------------------:|--------------------:|--------------------:|--------------------:|-------------:|\n|Lying    |Lying          |   0.5612758|            0.0527341|            0.0263909|            0.0877599|            0.1398810|     0.1319583|\n|Lying    |Lying          |   0.5628214|            0.0550119|            0.0216250|            0.0671548|            0.1198929|     0.1734940|\n|Lying    |Lying          |   0.5068968|            0.0505595|            0.0281250|            0.0756587|            0.1250298|     0.2137302|\n|Sitting  |Sitting        |   0.2392202|            0.0265595|            0.0249306|            0.0101627|            0.2512356|     0.4478913|\n|Sitting  |Sitting        |   0.1667659|            0.0326151|            0.0281369|            0.0048948|            0.3273011|     0.4402862|\n|Sitting  |Self Pace walk |   0.1029385|            0.0238651|            0.0231111|            0.0050060|            0.5466622|     0.2984171|\n:::\n:::\n\n:::\n\n## Exemple Classification\n\n### Performances\n\nLe package `yardstick` va servir à calculer les performances : \n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nactivity_pred %>% \n  accuracy(truth = as.factor(activity), .pred_class)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 3\n  .metric  .estimator .estimate\n  <chr>    <chr>          <dbl>\n1 accuracy multiclass     0.786\n```\n:::\n:::\n\n\n## Exemple Classification\n\n### Performances\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"1-5|1|2|3|4|5|1-5\"}\nactivity_pred %>% \n  select(activity, .pred_class) %>% \n  mutate(activ = as.factor(activity)) %>% \n  conf_mat(activ, .pred_class) %>% \n  autoplot(type = \"heatmap\")\n```\n\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-35-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Exemple Classification\n\n### Performances\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code  code-line-numbers=\"1-4|1|2|3|4|5\"}\nactivity_pred %>% \n  select(-.pred_class) %>% \n  roc_curve(truth = as.factor(activity), contains(\".pred_\")) %>% \n  autoplot()\n```\n\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-36-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Exemple Classification\n\nAfin de choisir certains paramètres, on peut également tuner notre modèle\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntune_spec <- rand_forest(mtry = tune(),\n                         trees = 200,\n                         min_n = tune()) %>%\n  set_mode(\"classification\") %>%\n  set_engine(\"ranger\")\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntune_wf <- workflow() %>%\n  add_recipe(df_rec) %>% \n  add_model(tune_spec)\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(100)\ncv_folds <- vfold_cv(train_data, \n                     v = 3, \n                     strata = activity) \n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(333)\ntune_res <- tune_grid(\n  tune_wf,\n  resamples = cv_folds,\n  grid = 20)\n```\n:::\n\n\n## Exemple Classification\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntune_res %>%\n  autoplot()\n```\n\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-42-1.png){fig-align='center' width=960}\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n## Exemple Classification\n\nOn ajuste notre grille de paramètres :\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrf_grid <- grid_regular(min_n(range = c(1, 8)),\n                        mtry(range = c(3, 11)),\n                        levels = 4) # nombre de niveaux par paramètre\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(456)\nregular_res <- tune_grid(tune_wf,\n                         resamples = cv_folds,\n                         grid = rf_grid)\n```\n:::\n\n\n## Exemple Classification\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nregular_res %>%\n  autoplot()\n```\n\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-46-1.png){fig-align='center' width=960}\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n## Exemple Classification\n\nSélection du meilleur modèle\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbest_acc <- select_best(regular_res, \"accuracy\")\n\nfinal_rf <- finalize_model(tune_spec,\n                           best_acc)\n```\n:::\n\n\n. . .\n\n<br>\n\nFinalisation du workflow\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_wf <- workflow() %>%\n  add_recipe(df_rec) %>%\n  add_model(final_rf)\n```\n:::\n\n\n. . .\n\n<br>\n\nEntraînement du modèle finale\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_res <- final_wf %>%\n  last_fit(data_split) # train sur train et evalue sur test\n```\n:::\n\n\n## Exemple Classification\n\n<br>\n\nRésultat final sur notre jeu de données : \n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_res %>% \n  collect_metrics()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 4\n  .metric  .estimator .estimate .config             \n  <chr>    <chr>          <dbl> <chr>               \n1 accuracy multiclass     0.810 Preprocessor1_Model1\n2 roc_auc  hand_till      0.970 Preprocessor1_Model1\n```\n:::\n:::\n\n\n## Exemple Classification\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfinal_res %>% \n  collect_predictions() %>% \n  conf_mat(activity, .pred_class) %>% \n  autoplot(type = \"heatmap\")\n```\n\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-52-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Exemple Classification\n\n### Performances\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfinal_res %>% \n  collect_predictions() %>% \n  select(-.pred_class) %>% \n  roc_curve(truth = as.factor(activity), contains(\".pred_\")) %>% \n  autoplot()\n```\n\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-53-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n## Exemple Classification\n\n### Enregistrement du modèle\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_activity_model = final_res %>%\n  extract_workflow()\n\nsaveRDS(final_activity_model, here::here(\"data\", \"activity_wf_model.rds\"))\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_activity_model\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n══ Workflow [trained] ══════════════════════════════════════════════════════════\nPreprocessor: Recipe\nModel: rand_forest()\n\n── Preprocessor ────────────────────────────────────────────────────────────────\n6 Recipe Steps\n\n• step_rm()\n• step_string2factor()\n• step_normalize()\n• step_dummy()\n• step_zv()\n• step_corr()\n\n── Model ───────────────────────────────────────────────────────────────────────\nRanger result\n\nCall:\n ranger::ranger(x = maybe_data_frame(x), y = y, mtry = min_cols(~5L,      x), num.trees = ~200, min.node.size = min_rows(~1L, x), num.threads = 1,      verbose = FALSE, seed = sample.int(10^5, 1), probability = TRUE) \n\nType:                             Probability estimation \nNumber of trees:                  200 \nSample size:                      2740 \nNumber of independent variables:  12 \nMtry:                             5 \nTarget node size:                 1 \nVariable importance mode:         none \nSplitrule:                        gini \nOOB prediction error (Brier s.):  0.1872566 \n```\n:::\n:::\n\n\n\n## Exemple de série temporelle\n\nPour les séries temporelles nous avons besoin de quelques library supplémentaires.\n\n<br>\n\nConcernant les données, nous avons web scrap les données historiques de la ville de Paris depuis le site [historique meteo](https://www.historique-meteo.net).\n\n<br>\n\nIl s'agit des températures moyennes par jour (en degrès celsius) du 1er janvier 2010 au 31 juillet 2022.\n\n\n\n::: {.cell}\n\n:::\n\n\n::: columns\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(modeltime)\nlibrary(timetk)\nlibrary(lubridate)\nlibrary(ggblanket)\n```\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n|ds         |    y|\n|:----------|----:|\n|2022-07-26 | 21.0|\n|2022-07-27 | 21.5|\n|2022-07-28 | 23.0|\n|2022-07-29 | 25.0|\n|2022-07-30 | 25.5|\n|2022-07-31 | 23.5|\n:::\n:::\n\n:::\n:::\n\n## Exemple de série temporelle\n\nLa library `timetk` va nous servir à créer notre split train/test\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsplit = time_series_split(\n  ts_data,\n  assess = \"15 days\",\n  cumulative = TRUE)\n```\n:::\n\n\n## Exemple de série temporelle\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\nsplit %>% \n  tk_time_series_cv_plan() %>% \n  filter(ds > \"2022-03-01\") %>% \n  plot_time_series_cv_plan(ds, y)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-e532385fc661b3e80aaa\" style=\"width:1728px;height:864px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e532385fc661b3e80aaa\">{\"x\":{\"data\":[{\"x\":[\"2022-03-02\",\"2022-03-03\",\"2022-03-04\",\"2022-03-05\",\"2022-03-06\",\"2022-03-07\",\"2022-03-08\",\"2022-03-09\",\"2022-03-10\",\"2022-03-11\",\"2022-03-12\",\"2022-03-13\",\"2022-03-14\",\"2022-03-15\",\"2022-03-16\",\"2022-03-17\",\"2022-03-18\",\"2022-03-19\",\"2022-03-20\",\"2022-03-21\",\"2022-03-22\",\"2022-03-23\",\"2022-03-24\",\"2022-03-25\",\"2022-03-26\",\"2022-03-27\",\"2022-03-28\",\"2022-03-29\",\"2022-03-30\",\"2022-03-31\",\"2022-04-01\",\"2022-04-02\",\"2022-04-03\",\"2022-04-04\",\"2022-04-05\",\"2022-04-06\",\"2022-04-07\",\"2022-04-08\",\"2022-04-09\",\"2022-04-10\",\"2022-04-11\",\"2022-04-12\",\"2022-04-13\",\"2022-04-14\",\"2022-04-15\",\"2022-04-16\",\"2022-04-17\",\"2022-04-18\",\"2022-04-19\",\"2022-04-20\",\"2022-04-21\",\"2022-04-22\",\"2022-04-23\",\"2022-04-24\",\"2022-04-25\",\"2022-04-26\",\"2022-04-27\",\"2022-04-28\",\"2022-04-29\",\"2022-04-30\",\"2022-05-01\",\"2022-05-02\",\"2022-05-03\",\"2022-05-04\",\"2022-05-05\",\"2022-05-06\",\"2022-05-07\",\"2022-05-08\",\"2022-05-09\",\"2022-05-10\",\"2022-05-11\",\"2022-05-12\",\"2022-05-13\",\"2022-05-14\",\"2022-05-15\",\"2022-05-16\",\"2022-05-17\",\"2022-05-18\",\"2022-05-19\",\"2022-05-20\",\"2022-05-21\",\"2022-05-22\",\"2022-05-23\",\"2022-05-24\",\"2022-05-25\",\"2022-05-26\",\"2022-05-27\",\"2022-05-28\",\"2022-05-29\",\"2022-05-30\",\"2022-05-31\",\"2022-06-01\",\"2022-06-02\",\"2022-06-03\",\"2022-06-04\",\"2022-06-05\",\"2022-06-06\",\"2022-06-07\",\"2022-06-08\",\"2022-06-09\",\"2022-06-10\",\"2022-06-11\",\"2022-06-12\",\"2022-06-13\",\"2022-06-14\",\"2022-06-15\",\"2022-06-16\",\"2022-06-17\",\"2022-06-18\",\"2022-06-19\",\"2022-06-20\",\"2022-06-21\",\"2022-06-22\",\"2022-06-23\",\"2022-06-24\",\"2022-06-25\",\"2022-06-26\",\"2022-06-27\",\"2022-06-28\",\"2022-06-29\",\"2022-06-30\",\"2022-07-01\",\"2022-07-02\",\"2022-07-03\",\"2022-07-04\",\"2022-07-05\",\"2022-07-06\",\"2022-07-07\",\"2022-07-08\",\"2022-07-09\",\"2022-07-10\",\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-16\"],\"y\":[7.5,9,9,7.5,7,5.5,7,10.5,11,10,9,8,8,12,14,10.5,11,12,10.5,12.5,13.5,13.5,14,14,14.5,15,16,15.5,9,7.5,2,2.5,4.5,6.5,10.5,10,10,6.5,7.5,9,10.5,14.5,15,16.5,16,15.5,13,13.5,14,13.5,12,12.5,13.5,11.5,12.5,12.5,12,14,14.5,12.5,13,13,14.5,15,15.5,16,16,14.5,18,20,19,17,17,18,19,20,22,22.5,21.5,19.5,19,18.5,17.5,14.5,15.5,18,18,15,11.5,13,17,17,17.5,19.5,22.5,21,18,18,18,16,21.5,22,20,19,20.5,24,24,27,32.5,26,20,22,23.5,24.5,20,17.5,16.5,20,21,22,15.5,17,21.5,20.5,20.5,20.5,20,20.5,19,24,20,23.5,28,31,27,22.5,24.5],\"text\":[\"ds: 2022-03-02<br />.value:  7.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-03<br />.value:  9.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-04<br />.value:  9.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-05<br />.value:  7.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-06<br />.value:  7.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-07<br />.value:  5.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-08<br />.value:  7.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-09<br />.value: 10.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-10<br />.value: 11.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-11<br />.value: 10.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-12<br />.value:  9.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-13<br />.value:  8.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-14<br />.value:  8.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-15<br />.value: 12.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-16<br />.value: 14.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-17<br />.value: 10.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-18<br />.value: 11.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-19<br />.value: 12.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-20<br />.value: 10.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-21<br />.value: 12.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-22<br />.value: 13.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-23<br />.value: 13.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-24<br />.value: 14.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-25<br />.value: 14.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-26<br />.value: 14.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-27<br />.value: 15.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-28<br />.value: 16.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-29<br />.value: 15.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-30<br />.value:  9.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-03-31<br />.value:  7.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-01<br />.value:  2.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-02<br />.value:  2.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-03<br />.value:  4.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-04<br />.value:  6.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-05<br />.value: 10.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-06<br />.value: 10.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-07<br />.value: 10.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-08<br />.value:  6.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-09<br />.value:  7.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-10<br />.value:  9.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-11<br />.value: 10.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-12<br />.value: 14.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-13<br />.value: 15.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-14<br />.value: 16.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-15<br />.value: 16.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-16<br />.value: 15.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-17<br />.value: 13.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-18<br />.value: 13.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-19<br />.value: 14.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-20<br />.value: 13.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-21<br />.value: 12.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-22<br />.value: 12.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-23<br />.value: 13.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-24<br />.value: 11.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-25<br />.value: 12.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-26<br />.value: 12.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-27<br />.value: 12.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-28<br />.value: 14.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-29<br />.value: 14.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-04-30<br />.value: 12.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-01<br />.value: 13.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-02<br />.value: 13.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-03<br />.value: 14.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-04<br />.value: 15.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-05<br />.value: 15.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-06<br />.value: 16.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-07<br />.value: 16.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-08<br />.value: 14.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-09<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-10<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-11<br />.value: 19.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-12<br />.value: 17.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-13<br />.value: 17.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-14<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-15<br />.value: 19.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-16<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-17<br />.value: 22.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-18<br />.value: 22.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-19<br />.value: 21.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-20<br />.value: 19.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-21<br />.value: 19.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-22<br />.value: 18.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-23<br />.value: 17.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-24<br />.value: 14.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-25<br />.value: 15.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-26<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-27<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-28<br />.value: 15.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-29<br />.value: 11.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-30<br />.value: 13.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-05-31<br />.value: 17.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-01<br />.value: 17.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-02<br />.value: 17.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-03<br />.value: 19.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-04<br />.value: 22.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-05<br />.value: 21.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-06<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-07<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-08<br />.value: 18.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-09<br />.value: 16.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-10<br />.value: 21.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-11<br />.value: 22.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-12<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-13<br />.value: 19.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-14<br />.value: 20.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-15<br />.value: 24.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-16<br />.value: 24.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-17<br />.value: 27.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-18<br />.value: 32.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-19<br />.value: 26.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-20<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-21<br />.value: 22.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-22<br />.value: 23.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-23<br />.value: 24.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-24<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-25<br />.value: 17.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-26<br />.value: 16.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-27<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-28<br />.value: 21.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-29<br />.value: 22.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-06-30<br />.value: 15.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-01<br />.value: 17.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-02<br />.value: 21.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-03<br />.value: 20.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-04<br />.value: 20.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-05<br />.value: 20.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-06<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-07<br />.value: 20.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-08<br />.value: 19.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-09<br />.value: 24.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-10<br />.value: 20.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-11<br />.value: 23.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-12<br />.value: 28.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-13<br />.value: 31.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-14<br />.value: 27.0<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-15<br />.value: 22.5<br />.color_mod: training<br />.color_mod: training\",\"ds: 2022-07-16<br />.value: 24.5<br />.color_mod: training<br />.color_mod: training\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(44,62,80,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"training\",\"legendgroup\":\"training\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\"],\"y\":[26.5,32.5,33,23.5,24,23.5,24.5,27.5,26,21,21.5,23,25,25.5,23.5],\"text\":[\"ds: 2022-07-17<br />.value: 26.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-18<br />.value: 32.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-19<br />.value: 33.0<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-20<br />.value: 23.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-21<br />.value: 24.0<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-22<br />.value: 23.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-23<br />.value: 24.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-24<br />.value: 27.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-25<br />.value: 26.0<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-26<br />.value: 21.0<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-27<br />.value: 21.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-28<br />.value: 23.0<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-29<br />.value: 25.0<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-30<br />.value: 25.5<br />.color_mod: testing<br />.color_mod: testing\",\"ds: 2022-07-31<br />.value: 23.5<br />.color_mod: testing<br />.color_mod: testing\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(227,26,28,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"testing\",\"legendgroup\":\"testing\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":59.8356164383562,\"r\":7.30593607305936,\"b\":29.9543378995434,\"l\":22.648401826484},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Time Series Cross Validation Plan\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"date\",\"autorange\":true,\"range\":[\"2022-02-22\",\"2022-08-07\"],\"tickmode\":\"auto\",\"ticktext\":[\"mar\",\"avr\",\"mai\",\"jui\",\"jul\",\"aoû\"],\"tickvals\":[19052,19083,19113,19144,19174,19205],\"categoryorder\":\"array\",\"categoryarray\":[\"mar\",\"avr\",\"mai\",\"jui\",\"jul\",\"aoû\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.22139200221392,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":true,\"range\":[0.45,34.55],\"tickmode\":\"auto\",\"ticktext\":[\"10\",\"20\",\"30\"],\"tickvals\":[10,20,30],\"categoryorder\":\"array\",\"categoryarray\":[\"10\",\"20\",\"30\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.22139200221392,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(44,62,80,1)\",\"width\":0.33208800332088,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(44,62,80,1)\",\"line\":{\"color\":\"rgba(44,62,80,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":24.9730178497302,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"annotations\":[{\"text\":\"Slice1\",\"x\":0.5,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"Legend\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"939e50921cd7\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"}},\"cur_data\":\"939e50921cd7\",\"visdat\":{\"939e50921cd7\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Exemple de série temporelle\n\nComme pour la classification nous pouvons créer une récipient pour créer des nouvelles features. \n\nOn pourrait également imaginer d'ajouter des régresseurs à notre jeu de données initial afin d'améliorer notre modèle.\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1-8|1|2|3-4|5|6|8|1-8\"}\nrecipe_spec <- recipe(y ~ ds, training(split)) %>%\n  step_timeseries_signature(ds) %>%\n  step_rm(contains(\"am.pm\"), contains(\"hour\"), contains(\"minute\"),\n          contains(\"second\"), contains(\"xts\")) %>%\n  step_fourier(ds, period = 365, K = 5) %>%\n  step_dummy(all_nominal()) \n  \ntable = recipe_spec %>% prep() %>% juice()\n```\n:::\n\n\n. . .\n\n<br>\n\n::: {style=\"font-size: 0.45em\"}\n\n::: {.cell}\n::: {.cell-output-display}\n|ds         |    y| ds_index.num| ds_year| ds_year.iso| ds_half| ds_quarter| ds_month| ds_day| ds_wday| ds_mday| ds_qday| ds_yday| ds_mweek| ds_week| ds_week.iso| ds_week2| ds_week3| ds_week4| ds_mday7| ds_sin365_K1| ds_cos365_K1| ds_sin365_K2| ds_cos365_K2| ds_sin365_K3| ds_cos365_K3| ds_sin365_K4| ds_cos365_K4| ds_sin365_K5| ds_cos365_K5| ds_month.lbl_01| ds_month.lbl_02| ds_month.lbl_03| ds_month.lbl_04| ds_month.lbl_05| ds_month.lbl_06| ds_month.lbl_07| ds_month.lbl_08| ds_month.lbl_09| ds_month.lbl_10| ds_month.lbl_11| ds_wday.lbl_1| ds_wday.lbl_2| ds_wday.lbl_3| ds_wday.lbl_4| ds_wday.lbl_5| ds_wday.lbl_6|\n|:----------|----:|------------:|-------:|-----------:|-------:|----------:|--------:|------:|-------:|-------:|-------:|-------:|--------:|-------:|-----------:|--------:|--------:|--------:|--------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|------------:|---------------:|---------------:|---------------:|---------------:|---------------:|---------------:|---------------:|---------------:|---------------:|---------------:|---------------:|-------------:|-------------:|-------------:|-------------:|-------------:|-------------:|\n|2010-01-01 |  0.0|   1262304000|    2010|        2009|       1|          1|        1|      1|       6|       1|       1|       1|        0|       1|          53|        1|        1|        1|        1|    0.1712931|    0.9852201|    0.3375229|    0.9413173|    0.4937756|    0.8695894|    0.6354323|    0.7721566|    0.7583058|    0.6518990|      -0.4599331|       0.5018282|      -0.4599331|       0.3687669|      -0.2616083|       0.1641974|      -0.0904791|       0.0430767|      -0.0172126|       0.0054561|      -0.0011906|     0.3779645|     0.0000000|    -0.4082483|    -0.5640761|    -0.4364358|    -0.1973855|\n|2010-01-02 |  1.0|   1262390400|    2010|        2009|       1|          1|        1|      2|       7|       2|       2|       2|        0|       1|          53|        1|        1|        1|        1|    0.1882267|    0.9821256|    0.3697245|    0.9291414|    0.5380052|    0.8429415|    0.6870528|    0.7266075|    0.8115391|    0.5842982|      -0.4599331|       0.5018282|      -0.4599331|       0.3687669|      -0.2616083|       0.1641974|      -0.0904791|       0.0430767|      -0.0172126|       0.0054561|      -0.0011906|     0.5669467|     0.5455447|     0.4082483|     0.2417469|     0.1091089|     0.0328976|\n|2010-01-03 |  2.0|   1262476800|    2010|        2009|       1|          1|        1|      3|       1|       3|       3|       3|        0|       1|          53|        1|        1|        1|        1|    0.2051045|    0.9787401|    0.4014880|    0.9158643|    0.5808003|    0.8140461|    0.7354170|    0.6776148|    0.8587640|    0.5123714|      -0.4599331|       0.5018282|      -0.4599331|       0.3687669|      -0.2616083|       0.1641974|      -0.0904791|       0.0430767|      -0.0172126|       0.0054561|      -0.0011906|    -0.5669467|     0.5455447|    -0.4082483|     0.2417469|    -0.1091089|     0.0328976|\n|2010-01-04 | -2.0|   1262563200|    2010|        2010|       1|          1|        1|      4|       2|       4|       4|       4|        1|       1|           1|        1|        1|        1|        1|    0.2219215|    0.9750645|    0.4327756|    0.9015017|    0.6220467|    0.7829801|    0.7802959|    0.6254106|    0.8996309|    0.4366512|      -0.4599331|       0.5018282|      -0.4599331|       0.3687669|      -0.2616083|       0.1641974|      -0.0904791|       0.0430767|      -0.0172126|       0.0054561|      -0.0011906|    -0.3779645|     0.0000000|     0.4082483|    -0.5640761|     0.4364358|    -0.1973855|\n|2010-01-05 | -2.5|   1262649600|    2010|        2010|       1|          1|        1|      5|       3|       5|       5|       5|        1|       1|           1|        1|        1|        1|        1|    0.2386728|    0.9711001|    0.4635503|    0.8860706|    0.6616346|    0.7498264|    0.8214766|    0.5702423|    0.9338372|    0.3576982|      -0.4599331|       0.5018282|      -0.4599331|       0.3687669|      -0.2616083|       0.1641974|      -0.0904791|       0.0430767|      -0.0172126|       0.0054561|      -0.0011906|    -0.1889822|    -0.3273268|     0.4082483|     0.0805823|    -0.5455447|     0.4934638|\n|2010-01-06 | -4.5|   1262736000|    2010|        2010|       1|          1|        1|      6|       4|       6|       6|       6|        1|       1|           1|        1|        1|        1|        1|    0.2553533|    0.9668478|    0.4937756|    0.8695894|    0.6994583|    0.7146734|    0.8587640|    0.5123714|    0.9611298|    0.2760970|      -0.4599331|       0.5018282|      -0.4599331|       0.3687669|      -0.2616083|       0.1641974|      -0.0904791|       0.0430767|      -0.0172126|       0.0054561|      -0.0011906|     0.0000000|    -0.4364358|     0.0000000|     0.4834938|     0.0000000|    -0.6579517|\n:::\n:::\n\n::: \n\n\n\n\n## Exemple de série temporelle\n\nUne fois que nous avons trouvé un modèle performant, on l'entraine.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_arima = arima_reg() %>% \n  set_engine(\"auto_arima\") %>% \n  fit(y~ds, training(split))\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_prophet  = prophet_reg(\n  prior_scale_changepoints = 0.01,\n  prior_scale_seasonality = 5) %>% \n  set_engine(\"prophet\") %>% \n  fit(y~ds, training(split))\n```\n:::\n\n\n. . .\n\n<br>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_prophet_xgb  = prophet_boost(prior_scale_changepoints = 0.01,\n                                   prior_scale_seasonality = 5) %>%\n  set_engine(\"prophet_xgboost\") \n  \nworkflow_fit_prophet_boost <- workflow() %>%\n    add_model(model_prophet_xgb) %>%\n    add_recipe(recipe_spec) %>%\n    fit(training(split))\n```\n:::\n\n\n## Exemple de série temporelle\n\n`modeltime`nous permet de créer une *table* avec plusieurs modèles afin de faciliter les comparaisons de performances.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_table = modeltime_table(\n  model_arima,\n  model_prophet,\n  workflow_fit_prophet_boost)\n```\n:::\n\n\n. . .\n\n<br>\n\nOn calibre la table (= prédictions sur la période de test et calcul des résidus)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncalib_table = model_table %>% \n  modeltime_calibrate(testing(split))\n```\n:::\n\n\n. . .\n\n<br>\n\nOn compare les performances : \n\n\n::: {.cell}\n\n```{.r .cell-code}\ncalib_table %>%  modeltime_accuracy()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 9\n  .model_id .model_desc               .type   mae  mape  mase smape  rmse   rsq\n      <int> <chr>                     <chr> <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>\n1         1 ARIMA(2,1,1)(1,0,0)[7]    Test   2.41  8.64 0.994  9.28  3.61 0.359\n2         2 PROPHET                   Test   3.17 11.3  1.31  12.5   4.46 0.433\n3         3 PROPHET W/ XGBOOST ERRORS Test   2.89 10.4  1.19  11.4   3.94 0.140\n```\n:::\n:::\n\n\n## Exemple de série temporelle\n\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\ncalib_table %>% \n  modeltime_forecast(\n    new_data = testing(split),\n    actual_data = ts_data,\n    keep_data = T) %>% \n  filter(.index > \"2022-07-10\") %>% \n  plot_modeltime_forecast()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-a4cd582ea123dd1e04d9\" style=\"width:1728px;height:864px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a4cd582ea123dd1e04d9\">{\"x\":{\"data\":[{\"x\":[\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-16\",\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\",\"2022-07-31\",\"2022-07-30\",\"2022-07-29\",\"2022-07-28\",\"2022-07-27\",\"2022-07-26\",\"2022-07-25\",\"2022-07-24\",\"2022-07-23\",\"2022-07-22\",\"2022-07-21\",\"2022-07-20\",\"2022-07-19\",\"2022-07-18\",\"2022-07-17\",\"2022-07-16\",\"2022-07-15\",\"2022-07-14\",\"2022-07-13\",\"2022-07-12\",\"2022-07-11\",\"2022-07-11\"],\"y\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"text\":[\".index: 2022-07-11<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-12<br />.value: 28.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-13<br />.value: 31.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-14<br />.value: 27.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-15<br />.value: 22.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-16<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-17<br />.value: 26.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-18<br />.value: 32.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-19<br />.value: 33.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-20<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-21<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-22<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-23<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-24<br />.value: 27.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-25<br />.value: 26.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-26<br />.value: 21.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-27<br />.value: 21.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-28<br />.value: 23.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-29<br />.value: 25.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-30<br />.value: 25.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-31<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-31<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-30<br />.value: 25.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-29<br />.value: 25.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-28<br />.value: 23.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-27<br />.value: 21.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-26<br />.value: 21.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-25<br />.value: 26.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-24<br />.value: 27.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-23<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-22<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-21<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-20<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-19<br />.value: 33.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-18<br />.value: 32.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-17<br />.value: 26.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-16<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-15<br />.value: 22.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-14<br />.value: 27.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-13<br />.value: 31.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-12<br />.value: 28.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-11<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-11<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(44,62,80,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"ACTUAL\",\"legendgroup\":\"ACTUAL\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\",\"2022-07-31\",\"2022-07-30\",\"2022-07-29\",\"2022-07-28\",\"2022-07-27\",\"2022-07-26\",\"2022-07-25\",\"2022-07-24\",\"2022-07-23\",\"2022-07-22\",\"2022-07-21\",\"2022-07-20\",\"2022-07-19\",\"2022-07-18\",\"2022-07-17\",\"2022-07-17\"],\"y\":[17.101726214834,16.9102766483646,16.8172152030915,16.7612853923251,16.5411604083139,16.3426186920191,16.3750823415354,16.35023027423,16.333317050587,16.3240602295002,16.3186153631795,16.3094284350554,16.3018220317901,16.3021437167497,16.3009274462441,30.7008906436169,30.7021069141225,30.7017852291629,30.7093916324282,30.7185785605523,30.7240234268731,30.7332802479598,30.7501934716029,30.7750455389082,30.742581889392,30.9411236056867,31.161248589698,31.2171784004643,31.3102398457375,31.5016894122069,17.101726214834],\"text\":[\".index: 2022-07-17<br />.value: 24.30171<br />.conf_lo: 17.10173<br />.conf_hi: 31.50169<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-18<br />.value: 24.11026<br />.conf_lo: 16.91028<br />.conf_hi: 31.31024<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-19<br />.value: 24.01720<br />.conf_lo: 16.81722<br />.conf_hi: 31.21718<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-20<br />.value: 23.96127<br />.conf_lo: 16.76129<br />.conf_hi: 31.16125<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-21<br />.value: 23.74114<br />.conf_lo: 16.54116<br />.conf_hi: 30.94112<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-22<br />.value: 23.54260<br />.conf_lo: 16.34262<br />.conf_hi: 30.74258<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-23<br />.value: 23.57506<br />.conf_lo: 16.37508<br />.conf_hi: 30.77505<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-24<br />.value: 23.55021<br />.conf_lo: 16.35023<br />.conf_hi: 30.75019<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-25<br />.value: 23.53330<br />.conf_lo: 16.33332<br />.conf_hi: 30.73328<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-26<br />.value: 23.52404<br />.conf_lo: 16.32406<br />.conf_hi: 30.72402<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-27<br />.value: 23.51860<br />.conf_lo: 16.31862<br />.conf_hi: 30.71858<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-28<br />.value: 23.50941<br />.conf_lo: 16.30943<br />.conf_hi: 30.70939<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-29<br />.value: 23.50180<br />.conf_lo: 16.30182<br />.conf_hi: 30.70179<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-30<br />.value: 23.50213<br />.conf_lo: 16.30214<br />.conf_hi: 30.70211<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-31<br />.value: 23.50091<br />.conf_lo: 16.30093<br />.conf_hi: 30.70089<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-31<br />.value: 23.50091<br />.conf_lo: 16.30093<br />.conf_hi: 30.70089<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-30<br />.value: 23.50213<br />.conf_lo: 16.30214<br />.conf_hi: 30.70211<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-29<br />.value: 23.50180<br />.conf_lo: 16.30182<br />.conf_hi: 30.70179<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-28<br />.value: 23.50941<br />.conf_lo: 16.30943<br />.conf_hi: 30.70939<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-27<br />.value: 23.51860<br />.conf_lo: 16.31862<br />.conf_hi: 30.71858<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-26<br />.value: 23.52404<br />.conf_lo: 16.32406<br />.conf_hi: 30.72402<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-25<br />.value: 23.53330<br />.conf_lo: 16.33332<br />.conf_hi: 30.73328<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-24<br />.value: 23.55021<br />.conf_lo: 16.35023<br />.conf_hi: 30.75019<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-23<br />.value: 23.57506<br />.conf_lo: 16.37508<br />.conf_hi: 30.77505<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-22<br />.value: 23.54260<br />.conf_lo: 16.34262<br />.conf_hi: 30.74258<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-21<br />.value: 23.74114<br />.conf_lo: 16.54116<br />.conf_hi: 30.94112<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-20<br />.value: 23.96127<br />.conf_lo: 16.76129<br />.conf_hi: 31.16125<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-19<br />.value: 24.01720<br />.conf_lo: 16.81722<br />.conf_hi: 31.21718<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-18<br />.value: 24.11026<br />.conf_lo: 16.91028<br />.conf_hi: 31.31024<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-17<br />.value: 24.30171<br />.conf_lo: 17.10173<br />.conf_hi: 31.50169<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-17<br />.value: 24.30171<br />.conf_lo: 17.10173<br />.conf_hi: 31.50169<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(227,26,28,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"legendgroup\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\",\"2022-07-31\",\"2022-07-30\",\"2022-07-29\",\"2022-07-28\",\"2022-07-27\",\"2022-07-26\",\"2022-07-25\",\"2022-07-24\",\"2022-07-23\",\"2022-07-22\",\"2022-07-21\",\"2022-07-20\",\"2022-07-19\",\"2022-07-18\",\"2022-07-17\",\"2022-07-17\"],\"y\":[13.4170989614869,13.3512073728067,13.4374201935277,13.5833836192713,13.7945839384359,13.7550976988895,13.644096323189,13.6027925240695,13.5232800618788,13.596437588312,13.729718983749,13.9284062124951,13.8763657747441,13.7525594941995,13.6979968263455,31.4939331065585,31.5484957744125,31.672302054957,31.7243424927081,31.525655263962,31.392373868525,31.3192163420918,31.3987288042825,31.440032603402,31.5510339791025,31.5905202186489,31.3793198994843,31.2333564737407,31.1471436530196,31.2130352416998,13.4170989614869],\"text\":[\".index: 2022-07-17<br />.value: 22.31507<br />.conf_lo: 13.41710<br />.conf_hi: 31.21304<br />.model_desc: 2_PROPHET\",\".index: 2022-07-18<br />.value: 22.24918<br />.conf_lo: 13.35121<br />.conf_hi: 31.14714<br />.model_desc: 2_PROPHET\",\".index: 2022-07-19<br />.value: 22.33539<br />.conf_lo: 13.43742<br />.conf_hi: 31.23336<br />.model_desc: 2_PROPHET\",\".index: 2022-07-20<br />.value: 22.48135<br />.conf_lo: 13.58338<br />.conf_hi: 31.37932<br />.model_desc: 2_PROPHET\",\".index: 2022-07-21<br />.value: 22.69255<br />.conf_lo: 13.79458<br />.conf_hi: 31.59052<br />.model_desc: 2_PROPHET\",\".index: 2022-07-22<br />.value: 22.65307<br />.conf_lo: 13.75510<br />.conf_hi: 31.55103<br />.model_desc: 2_PROPHET\",\".index: 2022-07-23<br />.value: 22.54206<br />.conf_lo: 13.64410<br />.conf_hi: 31.44003<br />.model_desc: 2_PROPHET\",\".index: 2022-07-24<br />.value: 22.50076<br />.conf_lo: 13.60279<br />.conf_hi: 31.39873<br />.model_desc: 2_PROPHET\",\".index: 2022-07-25<br />.value: 22.42125<br />.conf_lo: 13.52328<br />.conf_hi: 31.31922<br />.model_desc: 2_PROPHET\",\".index: 2022-07-26<br />.value: 22.49441<br />.conf_lo: 13.59644<br />.conf_hi: 31.39237<br />.model_desc: 2_PROPHET\",\".index: 2022-07-27<br />.value: 22.62769<br />.conf_lo: 13.72972<br />.conf_hi: 31.52566<br />.model_desc: 2_PROPHET\",\".index: 2022-07-28<br />.value: 22.82637<br />.conf_lo: 13.92841<br />.conf_hi: 31.72434<br />.model_desc: 2_PROPHET\",\".index: 2022-07-29<br />.value: 22.77433<br />.conf_lo: 13.87637<br />.conf_hi: 31.67230<br />.model_desc: 2_PROPHET\",\".index: 2022-07-30<br />.value: 22.65053<br />.conf_lo: 13.75256<br />.conf_hi: 31.54850<br />.model_desc: 2_PROPHET\",\".index: 2022-07-31<br />.value: 22.59596<br />.conf_lo: 13.69800<br />.conf_hi: 31.49393<br />.model_desc: 2_PROPHET\",\".index: 2022-07-31<br />.value: 22.59596<br />.conf_lo: 13.69800<br />.conf_hi: 31.49393<br />.model_desc: 2_PROPHET\",\".index: 2022-07-30<br />.value: 22.65053<br />.conf_lo: 13.75256<br />.conf_hi: 31.54850<br />.model_desc: 2_PROPHET\",\".index: 2022-07-29<br />.value: 22.77433<br />.conf_lo: 13.87637<br />.conf_hi: 31.67230<br />.model_desc: 2_PROPHET\",\".index: 2022-07-28<br />.value: 22.82637<br />.conf_lo: 13.92841<br />.conf_hi: 31.72434<br />.model_desc: 2_PROPHET\",\".index: 2022-07-27<br />.value: 22.62769<br />.conf_lo: 13.72972<br />.conf_hi: 31.52566<br />.model_desc: 2_PROPHET\",\".index: 2022-07-26<br />.value: 22.49441<br />.conf_lo: 13.59644<br />.conf_hi: 31.39237<br />.model_desc: 2_PROPHET\",\".index: 2022-07-25<br />.value: 22.42125<br />.conf_lo: 13.52328<br />.conf_hi: 31.31922<br />.model_desc: 2_PROPHET\",\".index: 2022-07-24<br />.value: 22.50076<br />.conf_lo: 13.60279<br />.conf_hi: 31.39873<br />.model_desc: 2_PROPHET\",\".index: 2022-07-23<br />.value: 22.54206<br />.conf_lo: 13.64410<br />.conf_hi: 31.44003<br />.model_desc: 2_PROPHET\",\".index: 2022-07-22<br />.value: 22.65307<br />.conf_lo: 13.75510<br />.conf_hi: 31.55103<br />.model_desc: 2_PROPHET\",\".index: 2022-07-21<br />.value: 22.69255<br />.conf_lo: 13.79458<br />.conf_hi: 31.59052<br />.model_desc: 2_PROPHET\",\".index: 2022-07-20<br />.value: 22.48135<br />.conf_lo: 13.58338<br />.conf_hi: 31.37932<br />.model_desc: 2_PROPHET\",\".index: 2022-07-19<br />.value: 22.33539<br />.conf_lo: 13.43742<br />.conf_hi: 31.23336<br />.model_desc: 2_PROPHET\",\".index: 2022-07-18<br />.value: 22.24918<br />.conf_lo: 13.35121<br />.conf_hi: 31.14714<br />.model_desc: 2_PROPHET\",\".index: 2022-07-17<br />.value: 22.31507<br />.conf_lo: 13.41710<br />.conf_hi: 31.21304<br />.model_desc: 2_PROPHET\",\".index: 2022-07-17<br />.value: 22.31507<br />.conf_lo: 13.41710<br />.conf_hi: 31.21304<br />.model_desc: 2_PROPHET\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(24,188,156,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"2_PROPHET\",\"legendgroup\":\"2_PROPHET\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\",\"2022-07-31\",\"2022-07-31\",\"2022-07-30\",\"2022-07-29\",\"2022-07-28\",\"2022-07-27\",\"2022-07-26\",\"2022-07-25\",\"2022-07-24\",\"2022-07-23\",\"2022-07-22\",\"2022-07-21\",\"2022-07-20\",\"2022-07-19\",\"2022-07-18\",\"2022-07-17\",\"2022-07-17\"],\"y\":[15.9551135854036,15.8892219967234,16.6156529561392,16.4469017117016,16.6581020308662,15.5588392467489,14.1204303321575,14.082627233035,15.14928944011,14.3973390940571,14.6935331711929,14.9367841441561,13.8249671134054,14.018616601446,14.2081486630156,14.2081486630156,29.9166609562441,29.7271288946745,29.5334794066339,30.6452964373846,30.4020454644214,30.1058513872855,30.8578017333384,29.7911395262635,29.828942625386,31.2673515399774,32.3666143240947,32.1554140049301,32.3241652493677,31.5977342899519,31.6636258786321,15.9551135854036],\"text\":[\".index: 2022-07-17<br />.value: 23.80937<br />.conf_lo: 15.95511<br />.conf_hi: 31.66363<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-18<br />.value: 23.74348<br />.conf_lo: 15.88922<br />.conf_hi: 31.59773<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-19<br />.value: 24.46991<br />.conf_lo: 16.61565<br />.conf_hi: 32.32417<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-20<br />.value: 24.30116<br />.conf_lo: 16.44690<br />.conf_hi: 32.15541<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-21<br />.value: 24.51236<br />.conf_lo: 16.65810<br />.conf_hi: 32.36661<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-22<br />.value: 23.41310<br />.conf_lo: 15.55884<br />.conf_hi: 31.26735<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-23<br />.value: 21.97469<br />.conf_lo: 14.12043<br />.conf_hi: 29.82894<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-24<br />.value: 21.93688<br />.conf_lo: 14.08263<br />.conf_hi: 29.79114<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-25<br />.value: 23.00355<br />.conf_lo: 15.14929<br />.conf_hi: 30.85780<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-26<br />.value: 22.25160<br />.conf_lo: 14.39734<br />.conf_hi: 30.10585<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-27<br />.value: 22.54779<br />.conf_lo: 14.69353<br />.conf_hi: 30.40205<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-28<br />.value: 22.79104<br />.conf_lo: 14.93678<br />.conf_hi: 30.64530<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-29<br />.value: 21.67922<br />.conf_lo: 13.82497<br />.conf_hi: 29.53348<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-30<br />.value: 21.87287<br />.conf_lo: 14.01862<br />.conf_hi: 29.72713<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-31<br />.value: 22.06240<br />.conf_lo: 14.20815<br />.conf_hi: 29.91666<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-31<br />.value: 22.06240<br />.conf_lo: 14.20815<br />.conf_hi: 29.91666<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-31<br />.value: 22.06240<br />.conf_lo: 14.20815<br />.conf_hi: 29.91666<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-30<br />.value: 21.87287<br />.conf_lo: 14.01862<br />.conf_hi: 29.72713<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-29<br />.value: 21.67922<br />.conf_lo: 13.82497<br />.conf_hi: 29.53348<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-28<br />.value: 22.79104<br />.conf_lo: 14.93678<br />.conf_hi: 30.64530<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-27<br />.value: 22.54779<br />.conf_lo: 14.69353<br />.conf_hi: 30.40205<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-26<br />.value: 22.25160<br />.conf_lo: 14.39734<br />.conf_hi: 30.10585<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-25<br />.value: 23.00355<br />.conf_lo: 15.14929<br />.conf_hi: 30.85780<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-24<br />.value: 21.93688<br />.conf_lo: 14.08263<br />.conf_hi: 29.79114<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-23<br />.value: 21.97469<br />.conf_lo: 14.12043<br />.conf_hi: 29.82894<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-22<br />.value: 23.41310<br />.conf_lo: 15.55884<br />.conf_hi: 31.26735<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-21<br />.value: 24.51236<br />.conf_lo: 16.65810<br />.conf_hi: 32.36661<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-20<br />.value: 24.30116<br />.conf_lo: 16.44690<br />.conf_hi: 32.15541<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-19<br />.value: 24.46991<br />.conf_lo: 16.61565<br />.conf_hi: 32.32417<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-18<br />.value: 23.74348<br />.conf_lo: 15.88922<br />.conf_hi: 31.59773<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-17<br />.value: 23.80937<br />.conf_lo: 15.95511<br />.conf_hi: 31.66363<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-17<br />.value: 23.80937<br />.conf_lo: 15.95511<br />.conf_hi: 31.66363<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(204,190,147,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"3_PROPHET W/ XGBOOST ERRORS\",\"legendgroup\":\"3_PROPHET W/ XGBOOST ERRORS\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-16\",\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\"],\"y\":[23.5,28,31,27,22.5,24.5,26.5,32.5,33,23.5,24,23.5,24.5,27.5,26,21,21.5,23,25,25.5,23.5],\"text\":[\".index: 2022-07-11<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-12<br />.value: 28.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-13<br />.value: 31.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-14<br />.value: 27.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-15<br />.value: 22.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-16<br />.value: 24.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-17<br />.value: 26.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-18<br />.value: 32.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-19<br />.value: 33.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-20<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-21<br />.value: 24.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-22<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-23<br />.value: 24.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-24<br />.value: 27.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-25<br />.value: 26.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-26<br />.value: 21.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-27<br />.value: 21.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-28<br />.value: 23.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-29<br />.value: 25.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-30<br />.value: 25.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-31<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(44,62,80,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"ACTUAL\",\"legendgroup\":\"ACTUAL\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\"],\"y\":[24.3017078135205,24.1102582470511,24.0171968017779,23.9612669910115,23.7411420070003,23.5426002907056,23.5750639402218,23.5502118729164,23.5332986492734,23.5240418281867,23.5185969618659,23.5094100337418,23.5018036304765,23.5021253154361,23.5009090449305],\"text\":[\".index: 2022-07-17<br />.value: 24.30171<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-18<br />.value: 24.11026<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-19<br />.value: 24.01720<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-20<br />.value: 23.96127<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-21<br />.value: 23.74114<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-22<br />.value: 23.54260<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-23<br />.value: 23.57506<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-24<br />.value: 23.55021<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-25<br />.value: 23.53330<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-26<br />.value: 23.52404<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-27<br />.value: 23.51860<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-28<br />.value: 23.50941<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-29<br />.value: 23.50180<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-30<br />.value: 23.50213<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-07-31<br />.value: 23.50091<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(227,26,28,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"legendgroup\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\"],\"y\":[22.3150671015934,22.2491755129132,22.3353883336342,22.4813517593778,22.6925520785424,22.653065838996,22.5420644632955,22.500760664176,22.4212482019853,22.4944057284185,22.6276871238555,22.8263743526016,22.7743339148506,22.650527634306,22.595964966452],\"text\":[\".index: 2022-07-17<br />.value: 22.31507<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-18<br />.value: 22.24918<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-19<br />.value: 22.33539<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-20<br />.value: 22.48135<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-21<br />.value: 22.69255<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-22<br />.value: 22.65307<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-23<br />.value: 22.54206<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-24<br />.value: 22.50076<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-25<br />.value: 22.42125<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-26<br />.value: 22.49441<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-27<br />.value: 22.62769<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-28<br />.value: 22.82637<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-29<br />.value: 22.77433<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-30<br />.value: 22.65053<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-07-31<br />.value: 22.59596<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(24,188,156,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"2_PROPHET\",\"legendgroup\":\"2_PROPHET\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\"],\"y\":[23.8093697320179,23.7434781433377,24.4699091027535,24.3011578583158,24.5123581774804,23.4130953933631,21.9746864787718,21.9368833796492,23.0035455867242,22.2515952406713,22.5477893178071,22.7910402907704,21.6792232600196,21.8728727480603,22.0624048096298],\"text\":[\".index: 2022-07-17<br />.value: 23.80937<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-18<br />.value: 23.74348<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-19<br />.value: 24.46991<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-20<br />.value: 24.30116<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-21<br />.value: 24.51236<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-22<br />.value: 23.41310<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-23<br />.value: 21.97469<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-24<br />.value: 21.93688<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-25<br />.value: 23.00355<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-26<br />.value: 22.25160<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-27<br />.value: 22.54779<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-28<br />.value: 22.79104<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-29<br />.value: 21.67922<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-30<br />.value: 21.87287<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-07-31<br />.value: 22.06240<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(204,190,147,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"3_PROPHET W/ XGBOOST ERRORS\",\"legendgroup\":\"3_PROPHET W/ XGBOOST ERRORS\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":48.1461187214612,\"r\":7.30593607305936,\"b\":29.9543378995434,\"l\":22.648401826484},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Forecast Plot\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"date\",\"autorange\":true,\"range\":[\"2022-07-10\",\"2022-08-01\"],\"tickmode\":\"auto\",\"ticktext\":[\"jul 11\",\"jul 18\",\"jul 25\",\"aoû 01\"],\"tickvals\":[19184,19191,19198,19205],\"categoryorder\":\"array\",\"categoryarray\":[\"jul 11\",\"jul 18\",\"jul 25\",\"aoû 01\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.22139200221392,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":true,\"range\":[12.368767741447,33.9824396313597],\"tickmode\":\"auto\",\"ticktext\":[\"15\",\"20\",\"25\",\"30\"],\"tickvals\":[15,20,25,30],\"categoryorder\":\"array\",\"categoryarray\":[\"15\",\"20\",\"25\",\"30\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.22139200221392,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(44,62,80,1)\",\"width\":0.33208800332088,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"Legend\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"939e29267965\":{\"x\":{},\"y\":{},\"ymin\":{},\"ymax\":{},\"colour\":{},\"type\":\"scatter\"},\"939e1cebeafe\":{\"x\":{},\"y\":{},\"colour\":{}}},\"cur_data\":\"939e29267965\",\"visdat\":{\"939e29267965\":[\"function (y) \",\"x\"],\"939e1cebeafe\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Exemple de série temporelle\n\nPour prédire sur des données futures, on entraine le modèle une dernière fois sur l'ensemble des données : \n\n\n::: {.cell}\n\n```{.r .cell-code}\nfuture_forecast = calib_table %>% \n  modeltime_refit(ts_data) \n```\n:::\n\n\n. . .\n\n<br>\n\nOn applique notre modèle à +15 jours : \n\n\n::: {.cell}\n\n```{.r .cell-code}\nfuture_pred = future_forecast %>% \n  modeltime_forecast(\n    h = '15 days',\n    actual_data = ts_data)\n```\n:::\n\n\n## Exemple de série temporelle\n\n\n::: {.cell output-location='slide'}\n\n```{.r .cell-code}\nfuture_pred %>% \n  filter(.index > \"2022-06-10\") %>%\n  plot_modeltime_forecast()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-c1bc6fa529ad04e9850f\" style=\"width:1728px;height:864px;\" class=\"plotly html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c1bc6fa529ad04e9850f\">{\"x\":{\"data\":[{\"x\":[\"2022-06-11\",\"2022-06-12\",\"2022-06-13\",\"2022-06-14\",\"2022-06-15\",\"2022-06-16\",\"2022-06-17\",\"2022-06-18\",\"2022-06-19\",\"2022-06-20\",\"2022-06-21\",\"2022-06-22\",\"2022-06-23\",\"2022-06-24\",\"2022-06-25\",\"2022-06-26\",\"2022-06-27\",\"2022-06-28\",\"2022-06-29\",\"2022-06-30\",\"2022-07-01\",\"2022-07-02\",\"2022-07-03\",\"2022-07-04\",\"2022-07-05\",\"2022-07-06\",\"2022-07-07\",\"2022-07-08\",\"2022-07-09\",\"2022-07-10\",\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-16\",\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\",\"2022-07-31\",\"2022-07-30\",\"2022-07-29\",\"2022-07-28\",\"2022-07-27\",\"2022-07-26\",\"2022-07-25\",\"2022-07-24\",\"2022-07-23\",\"2022-07-22\",\"2022-07-21\",\"2022-07-20\",\"2022-07-19\",\"2022-07-18\",\"2022-07-17\",\"2022-07-16\",\"2022-07-15\",\"2022-07-14\",\"2022-07-13\",\"2022-07-12\",\"2022-07-11\",\"2022-07-10\",\"2022-07-09\",\"2022-07-08\",\"2022-07-07\",\"2022-07-06\",\"2022-07-05\",\"2022-07-04\",\"2022-07-03\",\"2022-07-02\",\"2022-07-01\",\"2022-06-30\",\"2022-06-29\",\"2022-06-28\",\"2022-06-27\",\"2022-06-26\",\"2022-06-25\",\"2022-06-24\",\"2022-06-23\",\"2022-06-22\",\"2022-06-21\",\"2022-06-20\",\"2022-06-19\",\"2022-06-18\",\"2022-06-17\",\"2022-06-16\",\"2022-06-15\",\"2022-06-14\",\"2022-06-13\",\"2022-06-12\",\"2022-06-11\",\"2022-06-11\"],\"y\":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],\"text\":[\".index: 2022-06-11<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-12<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-13<br />.value: 19.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-14<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-15<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-16<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-17<br />.value: 27.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-18<br />.value: 32.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-19<br />.value: 26.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-20<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-21<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-22<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-23<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-24<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-25<br />.value: 17.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-26<br />.value: 16.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-27<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-28<br />.value: 21.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-29<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-30<br />.value: 15.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-01<br />.value: 17.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-02<br />.value: 21.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-03<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-04<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-05<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-06<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-07<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-08<br />.value: 19.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-09<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-10<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-11<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-12<br />.value: 28.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-13<br />.value: 31.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-14<br />.value: 27.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-15<br />.value: 22.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-16<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-17<br />.value: 26.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-18<br />.value: 32.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-19<br />.value: 33.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-20<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-21<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-22<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-23<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-24<br />.value: 27.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-25<br />.value: 26.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-26<br />.value: 21.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-27<br />.value: 21.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-28<br />.value: 23.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-29<br />.value: 25.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-30<br />.value: 25.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-31<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-31<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-30<br />.value: 25.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-29<br />.value: 25.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-28<br />.value: 23.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-27<br />.value: 21.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-26<br />.value: 21.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-25<br />.value: 26.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-24<br />.value: 27.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-23<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-22<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-21<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-20<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-19<br />.value: 33.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-18<br />.value: 32.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-17<br />.value: 26.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-16<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-15<br />.value: 22.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-14<br />.value: 27.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-13<br />.value: 31.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-12<br />.value: 28.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-11<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-10<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-09<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-08<br />.value: 19.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-07<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-06<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-05<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-04<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-03<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-02<br />.value: 21.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-07-01<br />.value: 17.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-30<br />.value: 15.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-29<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-28<br />.value: 21.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-27<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-26<br />.value: 16.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-25<br />.value: 17.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-24<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-23<br />.value: 24.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-22<br />.value: 23.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-21<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-20<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-19<br />.value: 26.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-18<br />.value: 32.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-17<br />.value: 27.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-16<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-15<br />.value: 24.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-14<br />.value: 20.50000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-13<br />.value: 19.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-12<br />.value: 20.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-11<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\",\".index: 2022-06-11<br />.value: 22.00000<br />.conf_lo:       NA<br />.conf_hi:       NA<br />.model_desc: ACTUAL\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(44,62,80,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"ACTUAL\",\"legendgroup\":\"ACTUAL\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-06\",\"2022-08-07\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-13\",\"2022-08-14\",\"2022-08-15\",\"2022-08-15\",\"2022-08-14\",\"2022-08-13\",\"2022-08-12\",\"2022-08-11\",\"2022-08-10\",\"2022-08-09\",\"2022-08-08\",\"2022-08-07\",\"2022-08-06\",\"2022-08-05\",\"2022-08-04\",\"2022-08-03\",\"2022-08-02\",\"2022-08-01\",\"2022-08-01\"],\"y\":[16.1835962860236,16.2584162363256,16.4677260177492,16.6400548728937,16.7773769159732,16.8373692852659,16.8023387101741,16.8137509118432,16.8246464104908,16.8359834393031,16.844087557825,16.8499132110342,16.8526849343655,16.8521594342932,16.8528191759502,31.2527823733231,31.2521226316661,31.2526481317384,31.2498764084071,31.2440507551979,31.2359466366759,31.2246096078637,31.2137141092161,31.202301907547,31.2373324826387,31.1773401133461,31.0400180702666,30.8676892151221,30.6583794336985,30.5835594833964,16.1835962860236],\"text\":[\".index: 2022-08-01<br />.value: 23.38358<br />.conf_lo: 16.18360<br />.conf_hi: 30.58356<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-02<br />.value: 23.45840<br />.conf_lo: 16.25842<br />.conf_hi: 30.65838<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-03<br />.value: 23.66771<br />.conf_lo: 16.46773<br />.conf_hi: 30.86769<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-04<br />.value: 23.84004<br />.conf_lo: 16.64005<br />.conf_hi: 31.04002<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-05<br />.value: 23.97736<br />.conf_lo: 16.77738<br />.conf_hi: 31.17734<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-06<br />.value: 24.03735<br />.conf_lo: 16.83737<br />.conf_hi: 31.23733<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-07<br />.value: 24.00232<br />.conf_lo: 16.80234<br />.conf_hi: 31.20230<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-08<br />.value: 24.01373<br />.conf_lo: 16.81375<br />.conf_hi: 31.21371<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-09<br />.value: 24.02463<br />.conf_lo: 16.82465<br />.conf_hi: 31.22461<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-10<br />.value: 24.03597<br />.conf_lo: 16.83598<br />.conf_hi: 31.23595<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-11<br />.value: 24.04407<br />.conf_lo: 16.84409<br />.conf_hi: 31.24405<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-12<br />.value: 24.04989<br />.conf_lo: 16.84991<br />.conf_hi: 31.24988<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-13<br />.value: 24.05267<br />.conf_lo: 16.85268<br />.conf_hi: 31.25265<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-14<br />.value: 24.05214<br />.conf_lo: 16.85216<br />.conf_hi: 31.25212<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-15<br />.value: 24.05280<br />.conf_lo: 16.85282<br />.conf_hi: 31.25278<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-15<br />.value: 24.05280<br />.conf_lo: 16.85282<br />.conf_hi: 31.25278<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-14<br />.value: 24.05214<br />.conf_lo: 16.85216<br />.conf_hi: 31.25212<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-13<br />.value: 24.05267<br />.conf_lo: 16.85268<br />.conf_hi: 31.25265<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-12<br />.value: 24.04989<br />.conf_lo: 16.84991<br />.conf_hi: 31.24988<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-11<br />.value: 24.04407<br />.conf_lo: 16.84409<br />.conf_hi: 31.24405<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-10<br />.value: 24.03597<br />.conf_lo: 16.83598<br />.conf_hi: 31.23595<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-09<br />.value: 24.02463<br />.conf_lo: 16.82465<br />.conf_hi: 31.22461<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-08<br />.value: 24.01373<br />.conf_lo: 16.81375<br />.conf_hi: 31.21371<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-07<br />.value: 24.00232<br />.conf_lo: 16.80234<br />.conf_hi: 31.20230<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-06<br />.value: 24.03735<br />.conf_lo: 16.83737<br />.conf_hi: 31.23733<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-05<br />.value: 23.97736<br />.conf_lo: 16.77738<br />.conf_hi: 31.17734<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-04<br />.value: 23.84004<br />.conf_lo: 16.64005<br />.conf_hi: 31.04002<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-03<br />.value: 23.66771<br />.conf_lo: 16.46773<br />.conf_hi: 30.86769<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-02<br />.value: 23.45840<br />.conf_lo: 16.25842<br />.conf_hi: 30.65838<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-01<br />.value: 23.38358<br />.conf_lo: 16.18360<br />.conf_hi: 30.58356<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-01<br />.value: 23.38358<br />.conf_lo: 16.18360<br />.conf_hi: 30.58356<br />.model_desc: 1_ARIMA(2,1,1)(1,0,0)[7]\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(227,26,28,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"legendgroup\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-06\",\"2022-08-07\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-13\",\"2022-08-14\",\"2022-08-15\",\"2022-08-15\",\"2022-08-14\",\"2022-08-13\",\"2022-08-12\",\"2022-08-11\",\"2022-08-10\",\"2022-08-09\",\"2022-08-08\",\"2022-08-07\",\"2022-08-06\",\"2022-08-05\",\"2022-08-04\",\"2022-08-03\",\"2022-08-02\",\"2022-08-01\",\"2022-08-01\"],\"y\":[13.7757341536552,13.815083217871,13.9066095484792,14.0792777852793,14.0004577136383,13.849450462322,13.7725502650089,13.6544818004903,13.6747120678458,13.7468913662742,13.8999134666017,13.8010856987427,13.6296564194782,13.5318779422403,13.3924449355376,31.1883812157506,31.3278142224533,31.4255926996912,31.5970219789557,31.6958497468146,31.5428276464872,31.4706483480588,31.4504180807033,31.5684865452219,31.645386742535,31.7963939938513,31.8752140654923,31.7025458286922,31.611019498084,31.5716704338681,13.7757341536552],\"text\":[\".index: 2022-08-01<br />.value: 22.67370<br />.conf_lo: 13.77573<br />.conf_hi: 31.57167<br />.model_desc: 2_PROPHET\",\".index: 2022-08-02<br />.value: 22.71305<br />.conf_lo: 13.81508<br />.conf_hi: 31.61102<br />.model_desc: 2_PROPHET\",\".index: 2022-08-03<br />.value: 22.80458<br />.conf_lo: 13.90661<br />.conf_hi: 31.70255<br />.model_desc: 2_PROPHET\",\".index: 2022-08-04<br />.value: 22.97725<br />.conf_lo: 14.07928<br />.conf_hi: 31.87521<br />.model_desc: 2_PROPHET\",\".index: 2022-08-05<br />.value: 22.89843<br />.conf_lo: 14.00046<br />.conf_hi: 31.79639<br />.model_desc: 2_PROPHET\",\".index: 2022-08-06<br />.value: 22.74742<br />.conf_lo: 13.84945<br />.conf_hi: 31.64539<br />.model_desc: 2_PROPHET\",\".index: 2022-08-07<br />.value: 22.67052<br />.conf_lo: 13.77255<br />.conf_hi: 31.56849<br />.model_desc: 2_PROPHET\",\".index: 2022-08-08<br />.value: 22.55245<br />.conf_lo: 13.65448<br />.conf_hi: 31.45042<br />.model_desc: 2_PROPHET\",\".index: 2022-08-09<br />.value: 22.57268<br />.conf_lo: 13.67471<br />.conf_hi: 31.47065<br />.model_desc: 2_PROPHET\",\".index: 2022-08-10<br />.value: 22.64486<br />.conf_lo: 13.74689<br />.conf_hi: 31.54283<br />.model_desc: 2_PROPHET\",\".index: 2022-08-11<br />.value: 22.79788<br />.conf_lo: 13.89991<br />.conf_hi: 31.69585<br />.model_desc: 2_PROPHET\",\".index: 2022-08-12<br />.value: 22.69905<br />.conf_lo: 13.80109<br />.conf_hi: 31.59702<br />.model_desc: 2_PROPHET\",\".index: 2022-08-13<br />.value: 22.52762<br />.conf_lo: 13.62966<br />.conf_hi: 31.42559<br />.model_desc: 2_PROPHET\",\".index: 2022-08-14<br />.value: 22.42985<br />.conf_lo: 13.53188<br />.conf_hi: 31.32781<br />.model_desc: 2_PROPHET\",\".index: 2022-08-15<br />.value: 22.29041<br />.conf_lo: 13.39244<br />.conf_hi: 31.18838<br />.model_desc: 2_PROPHET\",\".index: 2022-08-15<br />.value: 22.29041<br />.conf_lo: 13.39244<br />.conf_hi: 31.18838<br />.model_desc: 2_PROPHET\",\".index: 2022-08-14<br />.value: 22.42985<br />.conf_lo: 13.53188<br />.conf_hi: 31.32781<br />.model_desc: 2_PROPHET\",\".index: 2022-08-13<br />.value: 22.52762<br />.conf_lo: 13.62966<br />.conf_hi: 31.42559<br />.model_desc: 2_PROPHET\",\".index: 2022-08-12<br />.value: 22.69905<br />.conf_lo: 13.80109<br />.conf_hi: 31.59702<br />.model_desc: 2_PROPHET\",\".index: 2022-08-11<br />.value: 22.79788<br />.conf_lo: 13.89991<br />.conf_hi: 31.69585<br />.model_desc: 2_PROPHET\",\".index: 2022-08-10<br />.value: 22.64486<br />.conf_lo: 13.74689<br />.conf_hi: 31.54283<br />.model_desc: 2_PROPHET\",\".index: 2022-08-09<br />.value: 22.57268<br />.conf_lo: 13.67471<br />.conf_hi: 31.47065<br />.model_desc: 2_PROPHET\",\".index: 2022-08-08<br />.value: 22.55245<br />.conf_lo: 13.65448<br />.conf_hi: 31.45042<br />.model_desc: 2_PROPHET\",\".index: 2022-08-07<br />.value: 22.67052<br />.conf_lo: 13.77255<br />.conf_hi: 31.56849<br />.model_desc: 2_PROPHET\",\".index: 2022-08-06<br />.value: 22.74742<br />.conf_lo: 13.84945<br />.conf_hi: 31.64539<br />.model_desc: 2_PROPHET\",\".index: 2022-08-05<br />.value: 22.89843<br />.conf_lo: 14.00046<br />.conf_hi: 31.79639<br />.model_desc: 2_PROPHET\",\".index: 2022-08-04<br />.value: 22.97725<br />.conf_lo: 14.07928<br />.conf_hi: 31.87521<br />.model_desc: 2_PROPHET\",\".index: 2022-08-03<br />.value: 22.80458<br />.conf_lo: 13.90661<br />.conf_hi: 31.70255<br />.model_desc: 2_PROPHET\",\".index: 2022-08-02<br />.value: 22.71305<br />.conf_lo: 13.81508<br />.conf_hi: 31.61102<br />.model_desc: 2_PROPHET\",\".index: 2022-08-01<br />.value: 22.67370<br />.conf_lo: 13.77573<br />.conf_hi: 31.57167<br />.model_desc: 2_PROPHET\",\".index: 2022-08-01<br />.value: 22.67370<br />.conf_lo: 13.77573<br />.conf_hi: 31.57167<br />.model_desc: 2_PROPHET\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(24,188,156,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"2_PROPHET\",\"legendgroup\":\"2_PROPHET\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-06\",\"2022-08-07\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-13\",\"2022-08-14\",\"2022-08-15\",\"2022-08-15\",\"2022-08-15\",\"2022-08-14\",\"2022-08-13\",\"2022-08-12\",\"2022-08-11\",\"2022-08-10\",\"2022-08-09\",\"2022-08-08\",\"2022-08-07\",\"2022-08-06\",\"2022-08-05\",\"2022-08-04\",\"2022-08-03\",\"2022-08-02\",\"2022-08-01\",\"2022-08-01\"],\"y\":[15.4562718278801,15.2778631604199,15.3693894910281,15.9325869133617,15.5784611533395,16.4262749817542,15.8493877782536,15.7313193137351,15.6260242853561,16.3451618753152,16.4981839756426,16.594560584958,16.6351234502782,15.7503372835643,15.5810684566635,15.5810684566635,31.289580749892,31.4588495767928,32.3436357435067,32.3030728781865,32.2066962688711,32.0536741685437,31.3345365785846,31.4398316069636,31.5579000714821,32.1347872749826,31.286973446568,31.6410992065902,31.0779017842566,30.9863754536484,31.1647841211086,15.4562718278801],\"text\":[\".index: 2022-08-01<br />.value: 23.31053<br />.conf_lo: 15.45627<br />.conf_hi: 31.16478<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-02<br />.value: 23.13212<br />.conf_lo: 15.27786<br />.conf_hi: 30.98638<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-03<br />.value: 23.22365<br />.conf_lo: 15.36939<br />.conf_hi: 31.07790<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-04<br />.value: 23.78684<br />.conf_lo: 15.93259<br />.conf_hi: 31.64110<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-05<br />.value: 23.43272<br />.conf_lo: 15.57846<br />.conf_hi: 31.28697<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-06<br />.value: 24.28053<br />.conf_lo: 16.42627<br />.conf_hi: 32.13479<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-07<br />.value: 23.70364<br />.conf_lo: 15.84939<br />.conf_hi: 31.55790<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-08<br />.value: 23.58558<br />.conf_lo: 15.73132<br />.conf_hi: 31.43983<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-09<br />.value: 23.48028<br />.conf_lo: 15.62602<br />.conf_hi: 31.33454<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-10<br />.value: 24.19942<br />.conf_lo: 16.34516<br />.conf_hi: 32.05367<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-11<br />.value: 24.35244<br />.conf_lo: 16.49818<br />.conf_hi: 32.20670<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-12<br />.value: 24.44882<br />.conf_lo: 16.59456<br />.conf_hi: 32.30307<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-13<br />.value: 24.48938<br />.conf_lo: 16.63512<br />.conf_hi: 32.34364<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-14<br />.value: 23.60459<br />.conf_lo: 15.75034<br />.conf_hi: 31.45885<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-15<br />.value: 23.43532<br />.conf_lo: 15.58107<br />.conf_hi: 31.28958<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-15<br />.value: 23.43532<br />.conf_lo: 15.58107<br />.conf_hi: 31.28958<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-15<br />.value: 23.43532<br />.conf_lo: 15.58107<br />.conf_hi: 31.28958<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-14<br />.value: 23.60459<br />.conf_lo: 15.75034<br />.conf_hi: 31.45885<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-13<br />.value: 24.48938<br />.conf_lo: 16.63512<br />.conf_hi: 32.34364<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-12<br />.value: 24.44882<br />.conf_lo: 16.59456<br />.conf_hi: 32.30307<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-11<br />.value: 24.35244<br />.conf_lo: 16.49818<br />.conf_hi: 32.20670<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-10<br />.value: 24.19942<br />.conf_lo: 16.34516<br />.conf_hi: 32.05367<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-09<br />.value: 23.48028<br />.conf_lo: 15.62602<br />.conf_hi: 31.33454<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-08<br />.value: 23.58558<br />.conf_lo: 15.73132<br />.conf_hi: 31.43983<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-07<br />.value: 23.70364<br />.conf_lo: 15.84939<br />.conf_hi: 31.55790<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-06<br />.value: 24.28053<br />.conf_lo: 16.42627<br />.conf_hi: 32.13479<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-05<br />.value: 23.43272<br />.conf_lo: 15.57846<br />.conf_hi: 31.28697<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-04<br />.value: 23.78684<br />.conf_lo: 15.93259<br />.conf_hi: 31.64110<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-03<br />.value: 23.22365<br />.conf_lo: 15.36939<br />.conf_hi: 31.07790<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-02<br />.value: 23.13212<br />.conf_lo: 15.27786<br />.conf_hi: 30.98638<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-01<br />.value: 23.31053<br />.conf_lo: 15.45627<br />.conf_hi: 31.16478<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-01<br />.value: 23.31053<br />.conf_lo: 15.45627<br />.conf_hi: 31.16478<br />.model_desc: 3_PROPHET W/ XGBOOST ERRORS\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(204,190,147,0.2)\",\"dash\":\"none\"},\"fill\":\"toself\",\"fillcolor\":\"rgba(51,51,51,0.2)\",\"hoveron\":\"points\",\"name\":\"3_PROPHET W/ XGBOOST ERRORS\",\"legendgroup\":\"3_PROPHET W/ XGBOOST ERRORS\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-06-11\",\"2022-06-12\",\"2022-06-13\",\"2022-06-14\",\"2022-06-15\",\"2022-06-16\",\"2022-06-17\",\"2022-06-18\",\"2022-06-19\",\"2022-06-20\",\"2022-06-21\",\"2022-06-22\",\"2022-06-23\",\"2022-06-24\",\"2022-06-25\",\"2022-06-26\",\"2022-06-27\",\"2022-06-28\",\"2022-06-29\",\"2022-06-30\",\"2022-07-01\",\"2022-07-02\",\"2022-07-03\",\"2022-07-04\",\"2022-07-05\",\"2022-07-06\",\"2022-07-07\",\"2022-07-08\",\"2022-07-09\",\"2022-07-10\",\"2022-07-11\",\"2022-07-12\",\"2022-07-13\",\"2022-07-14\",\"2022-07-15\",\"2022-07-16\",\"2022-07-17\",\"2022-07-18\",\"2022-07-19\",\"2022-07-20\",\"2022-07-21\",\"2022-07-22\",\"2022-07-23\",\"2022-07-24\",\"2022-07-25\",\"2022-07-26\",\"2022-07-27\",\"2022-07-28\",\"2022-07-29\",\"2022-07-30\",\"2022-07-31\"],\"y\":[22,20,19,20.5,24,24,27,32.5,26,20,22,23.5,24.5,20,17.5,16.5,20,21,22,15.5,17,21.5,20.5,20.5,20.5,20,20.5,19,24,20,23.5,28,31,27,22.5,24.5,26.5,32.5,33,23.5,24,23.5,24.5,27.5,26,21,21.5,23,25,25.5,23.5],\"text\":[\".index: 2022-06-11<br />.value: 22.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-12<br />.value: 20.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-13<br />.value: 19.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-14<br />.value: 20.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-15<br />.value: 24.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-16<br />.value: 24.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-17<br />.value: 27.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-18<br />.value: 32.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-19<br />.value: 26.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-20<br />.value: 20.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-21<br />.value: 22.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-22<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-23<br />.value: 24.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-24<br />.value: 20.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-25<br />.value: 17.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-26<br />.value: 16.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-27<br />.value: 20.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-28<br />.value: 21.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-29<br />.value: 22.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-06-30<br />.value: 15.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-01<br />.value: 17.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-02<br />.value: 21.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-03<br />.value: 20.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-04<br />.value: 20.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-05<br />.value: 20.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-06<br />.value: 20.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-07<br />.value: 20.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-08<br />.value: 19.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-09<br />.value: 24.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-10<br />.value: 20.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-11<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-12<br />.value: 28.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-13<br />.value: 31.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-14<br />.value: 27.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-15<br />.value: 22.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-16<br />.value: 24.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-17<br />.value: 26.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-18<br />.value: 32.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-19<br />.value: 33.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-20<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-21<br />.value: 24.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-22<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-23<br />.value: 24.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-24<br />.value: 27.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-25<br />.value: 26.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-26<br />.value: 21.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-27<br />.value: 21.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-28<br />.value: 23.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-29<br />.value: 25.00000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-30<br />.value: 25.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\",\".index: 2022-07-31<br />.value: 23.50000<br />.color_mod: ACTUAL<br />.color_mod: ACTUAL\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(44,62,80,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"ACTUAL\",\"legendgroup\":\"ACTUAL\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-06\",\"2022-08-07\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-13\",\"2022-08-14\",\"2022-08-15\"],\"y\":[23.38357788471,23.4583978350121,23.6677076164357,23.8400364715801,23.9773585146596,24.0373508839523,24.0023203088605,24.0137325105297,24.0246280091772,24.0359650379895,24.0440691565115,24.0498948097206,24.0526665330519,24.0521410329796,24.0528007746367],\"text\":[\".index: 2022-08-01<br />.value: 23.38358<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-02<br />.value: 23.45840<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-03<br />.value: 23.66771<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-04<br />.value: 23.84004<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-05<br />.value: 23.97736<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-06<br />.value: 24.03735<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-07<br />.value: 24.00232<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-08<br />.value: 24.01373<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-09<br />.value: 24.02463<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-10<br />.value: 24.03597<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-11<br />.value: 24.04407<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-12<br />.value: 24.04989<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-13<br />.value: 24.05267<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-14<br />.value: 24.05214<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\",\".index: 2022-08-15<br />.value: 24.05280<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]<br />.color_mod: 1_ARIMA(2,1,1)(1,0,0)[7]\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(227,26,28,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"legendgroup\":\"1_ARIMA(2,1,1)(1,0,0)[7]\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-06\",\"2022-08-07\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-13\",\"2022-08-14\",\"2022-08-15\"],\"y\":[22.6737022937617,22.7130513579775,22.8045776885857,22.9772459253858,22.8984258537448,22.7474186024285,22.6705184051154,22.5524499405968,22.5726802079523,22.6448595063807,22.7978816067082,22.6990538388492,22.5276245595847,22.4298460823468,22.2904130756441],\"text\":[\".index: 2022-08-01<br />.value: 22.67370<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-02<br />.value: 22.71305<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-03<br />.value: 22.80458<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-04<br />.value: 22.97725<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-05<br />.value: 22.89843<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-06<br />.value: 22.74742<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-07<br />.value: 22.67052<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-08<br />.value: 22.55245<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-09<br />.value: 22.57268<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-10<br />.value: 22.64486<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-11<br />.value: 22.79788<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-12<br />.value: 22.69905<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-13<br />.value: 22.52762<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-14<br />.value: 22.42985<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\",\".index: 2022-08-15<br />.value: 22.29041<br />.color_mod: 2_PROPHET<br />.color_mod: 2_PROPHET\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(24,188,156,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"2_PROPHET\",\"legendgroup\":\"2_PROPHET\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[\"2022-08-01\",\"2022-08-02\",\"2022-08-03\",\"2022-08-04\",\"2022-08-05\",\"2022-08-06\",\"2022-08-07\",\"2022-08-08\",\"2022-08-09\",\"2022-08-10\",\"2022-08-11\",\"2022-08-12\",\"2022-08-13\",\"2022-08-14\",\"2022-08-15\"],\"y\":[23.3105279744944,23.1321193070341,23.2236456376423,23.7868430599759,23.4327172999537,24.2805311283684,23.7036439248679,23.5855754603493,23.4802804319704,24.1994180219294,24.3524401222569,24.4488167315723,24.4893795968924,23.6045934301786,23.4353246032777],\"text\":[\".index: 2022-08-01<br />.value: 23.31053<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-02<br />.value: 23.13212<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-03<br />.value: 23.22365<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-04<br />.value: 23.78684<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-05<br />.value: 23.43272<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-06<br />.value: 24.28053<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-07<br />.value: 23.70364<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-08<br />.value: 23.58558<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-09<br />.value: 23.48028<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-10<br />.value: 24.19942<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-11<br />.value: 24.35244<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-12<br />.value: 24.44882<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-13<br />.value: 24.48938<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-14<br />.value: 23.60459<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\",\".index: 2022-08-15<br />.value: 23.43532<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS<br />.color_mod: 3_PROPHET W/ XGBOOST ERRORS\"],\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(204,190,147,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"3_PROPHET W/ XGBOOST ERRORS\",\"legendgroup\":\"3_PROPHET W/ XGBOOST ERRORS\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":48.1461187214612,\"r\":7.30593607305936,\"b\":29.9543378995434,\"l\":22.648401826484},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Forecast Plot\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"date\",\"autorange\":true,\"range\":[\"2022-06-07\",\"2022-08-18\"],\"tickmode\":\"auto\",\"ticktext\":[\"jui 15\",\"jul 01\",\"jul 15\",\"aoû 01\",\"aoû 15\"],\"tickvals\":[19158,19174,19188,19205,19219],\"categoryorder\":\"array\",\"categoryarray\":[\"jui 15\",\"jul 01\",\"jul 15\",\"aoû 01\",\"aoû 15\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.22139200221392,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":true,\"range\":[12.4120671823145,33.9803777532231],\"tickmode\":\"auto\",\"ticktext\":[\"15\",\"20\",\"25\",\"30\"],\"tickvals\":[15,20,25,30],\"categoryorder\":\"array\",\"categoryarray\":[\"15\",\"20\",\"25\",\"30\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(204,204,204,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.22139200221392,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":true,\"gridcolor\":\"rgba(204,204,204,1)\",\"gridwidth\":0.22139200221392,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(44,62,80,1)\",\"width\":0.33208800332088,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"Legend\",\"font\":{\"color\":\"rgba(44,62,80,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"939e4fb97ad1\":{\"x\":{},\"y\":{},\"ymin\":{},\"ymax\":{},\"colour\":{},\"type\":\"scatter\"},\"939e1a2e583b\":{\"x\":{},\"y\":{},\"colour\":{}}},\"cur_data\":\"939e4fb97ad1\",\"visdat\":{\"939e4fb97ad1\":[\"function (y) \",\"x\"],\"939e1a2e583b\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Merci !\n\nLien de la présentation : \n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;\"><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html}   <https://github.com/clementrx/site_r>\n\n<br>\n\n**Pour approfondir sur tidymodels** \n\nPour étudier Tidymodels : [Tidy Modeling with R](https://www.tmwr.org/)\n\n<br>\n\nPour voir des exemples d'utilisation en vidéos : \n\n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 576 512\" style=\"height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;\"><path d=\"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z\"/></svg>`{=html}   [Julia Silge](https://www.youtube.com/c/JuliaSilge)\n\n`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 576 512\" style=\"height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;\"><path d=\"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z\"/></svg>`{=html}   [Andrew Couch](https://www.youtube.com/c/AndrewCouch)\n\n\n## Bonus \n\nSéries temporelle en cross validation\n\n## Exemple de série temporelle\n\nCependant pour les séries temporelles, une bonne pratique est de tester notre modèle sur plusieurs périodes différentes.\n\n. . .\n\n<br>\n<br>\n<br>\n\nOn va donc créer plusieurs splits de train/test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nts_k_folds = rolling_origin(ts_data,\n                            initial = 1600,\n                            assess = 15, \n                            skip = 120)\n```\n:::\n\n\n## Exemple de série temporelle\n\nCependant pour les séries temporelles, une bonne pratique est de tester notre modèle sur plusieurs périodes différentes.\n\nOn va donc créer plusieurs splits de train/test\n\n\n::: {.cell output-location='slide'}\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-74-1.png){width=1920}\n:::\n:::\n\n\n## Exemple de série temporelle\n\nCréation d'une fonction afin d'itérer un ou plusieurs modèles sur nos différents splits.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-4|5|7-10|12-15|17-18|20-23|25-28|30-31|33-42\"}\ntune_prophet = function(splits){\n  \n  train_data = analysis(splits)\n  test_data = assessment(splits)\n  splits_calib <- initial_time_split(train_data, prop = 0.85)\n  \n  model_spec_prophet_boost <- prophet_boost(\n    prior_scale_changepoints = 0.01,\n    prior_scale_seasonality = 5) %>%\n    set_engine(\"prophet_xgboost\") \n  \n  workflow_fit_prophet_boost <- workflow() %>%\n    add_recipe(recipe_spec) %>%\n    add_model(model_spec_prophet_boost) %>%\n    fit(training(splits_calib))\n  \n  calib_table = workflow_fit_prophet_boost %>%  \n    modeltime_calibrate(testing(splits_calib))\n  \n  future_prophet_boost = calib_table %>% \n    modeltime_refit(train_data) %>% \n    modeltime_forecast(new_data = test_data,\n                       actual_data = train_data)\n  \n  m_prophet = prophet::prophet(df = train_data,\n                               seasonality.mode = 'additive',\n                               changepoint.prior.scale = 0.01,\n                               seasonality.prior.scale = 5)\n  \n  future = prophet::make_future_dataframe(m_prophet, periods = nrow(test_data),\n                                          freq = 'day', include_history = FALSE)\n  \n  bind_rows(predict(m_prophet, future) %>% \n              select(ds, yhat) %>% \n              mutate(type = 'prophet'),\n            \n            future_prophet_boost %>% \n              filter(.model_desc != 'ACTUAL') %>% \n              select(ds = .index, yhat = .value) %>% \n              mutate(type = 'prophet_xgb')) %>% \n    \n    left_join(test_data, by = 'ds')\n  \n}\n```\n:::\n\n\n## Exemple de série temporelle\n\n\nOn test nos modèles sur différentes périodes :\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nts_tune = ts_k_folds %>% mutate(result = map(splits, tune_prophet))\n```\n:::\n\n\n\n## Exemple de série temporelle\n\nOn peut donc comparer différents modèles :\n\n\n\n::: {.cell output-location='slide'}\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-77-1.png){width=960}\n:::\n:::\n\n\n\n## Exemple de série temporelle\n\n\n::: {.cell output-location='slide'}\n::: {.cell-output-display}\n![](site_R_files/figure-revealjs/unnamed-chunk-78-1.png){width=960}\n:::\n:::\n",
    "supporting": [
      "site_R_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.0/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.5.1/plotly-latest.min.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    function fireSlideChanged(previousSlide, currentSlide) {\n\n      // dispatch for htmlwidgets\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for reveal\n    if (window.Reveal) {\n      window.Reveal.addEventListener(\"slidechanged\", function(event) {\n        fireSlideChanged(event.previousSlide, event.currentSlide);\n      });\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}